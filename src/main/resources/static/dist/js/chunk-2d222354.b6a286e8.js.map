{"version":3,"sources":["webpack:///./src/views/Person.vue","webpack:///src/views/Person.vue","webpack:///./src/views/Person.vue?fcf8","webpack:///./src/views/Person.vue?7d8d"],"names":["render","_vm","this","_c","_self","staticStyle","attrs","model","value","form","username","callback","$$v","$set","expression","nickname","phone","on","save","_v","staticRenderFns","name","data","user","methods","res","localStorage","created","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,UAAU,CAACE,YAAY,CAAC,MAAQ,UAAU,CAACF,EAAG,UAAU,CAACG,MAAM,CAAC,cAAc,SAAS,CAACH,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,MAAM,KAAO,UAAU,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,SAAW,GAAG,gBAAgB,OAAOC,MAAM,CAACC,MAAOP,EAAIQ,KAAKC,SAAUC,SAAS,SAAUC,GAAMX,EAAIY,KAAKZ,EAAIQ,KAAM,WAAYG,IAAME,WAAW,oBAAoB,GAAGX,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,OAAO,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,gBAAgB,OAAOC,MAAM,CAACC,MAAOP,EAAIQ,KAAKM,SAAUJ,SAAS,SAAUC,GAAMX,EAAIY,KAAKZ,EAAIQ,KAAM,WAAYG,IAAME,WAAW,oBAAoB,GAAGX,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,OAAO,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,gBAAgB,OAAOC,MAAM,CAACC,MAAOP,EAAIQ,KAAKO,MAAOL,SAAS,SAAUC,GAAMX,EAAIY,KAAKZ,EAAIQ,KAAM,QAASG,IAAME,WAAW,iBAAiB,GAAGX,EAAG,eAAe,CAACA,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,WAAWW,GAAG,CAAC,MAAQhB,EAAIiB,OAAO,CAACjB,EAAIkB,GAAG,UAAU,IAAI,IAAI,IAEp6BC,EAAkB,GCmBP,GACfC,KAAMA,SACNC,OACA,OACAb,QACAc,gFAGAC,SACA,gBACA,2EAEAN,OACA,8CAEA,gBACA,8BAGA,wBACAO,uDACAC,+CAEA,6BAKA,gCAOAC,UACA,gEACA,iBACA,sBC3DgV,I,YCO5UC,EAAY,eACd,EACA5B,EACAoB,GACA,EACA,KACA,WACA,MAIa,aAAAQ,E","file":"js/chunk-2d222354.b6a286e8.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-card',{staticStyle:{\"width\":\"500px\"}},[_c('el-form',{attrs:{\"label-width\":\"60px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"size\":\"small\"}},[_c('el-input',{attrs:{\"disabled\":\"\",\"auto-complete\":\"off\"},model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"昵称\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.form.nickname),callback:function ($$v) {_vm.$set(_vm.form, \"nickname\", $$v)},expression:\"form.nickname\"}})],1),_c('el-form-item',{attrs:{\"label\":\"电话\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.form.phone),callback:function ($$v) {_vm.$set(_vm.form, \"phone\", $$v)},expression:\"form.phone\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"确 定\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-card style=\"width: 500px;\" >\r\n  <el-form label-width=\"60px\" >\r\n    <el-form-item label=\"用户名\"  size=\"small\" >\r\n      <el-input v-model=\"form.username\" disabled auto-complete=\"off\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item label=\"昵称\" >\r\n      <el-input v-model=\"form.nickname\" auto-complete=\"off\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item label=\"电话\" >\r\n      <el-input v-model=\"form.phone\" auto-complete=\"off\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item>\r\n    <el-button type=\"primary\" @click=\"save\">确 定</el-button>\r\n  </el-form-item>\r\n  </el-form>\r\n\r\n  </el-card>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\nname: \"Person\",\r\n  data(){\r\n    return {\r\n      form:{},\r\n      user: localStorage.getItem(\"user\") ? JSON.parse(localStorage.getItem(\"user\")) : {}\r\n    }\r\n  },\r\n  methods:{\r\n    async getUser() {\r\n      return (await this.request.get(\"/user/username/\" + this.user.username)).data\r\n    },\r\n    save(){\r\n      this.request.post(\"/user\", this.form).then(res => {\r\n\r\n        if (res.code === '200') {\r\n          this.$message.success(\"保存成功\")\r\n\r\n          // 更新浏览器存储的用户信息\r\n          this.getUser().then(res => {\r\n            res.token = JSON.parse(localStorage.getItem(\"user\")).token\r\n            localStorage.setItem(\"user\", JSON.stringify(res))\r\n            //person=>Manage(子传父)=>Header(父传子)\r\n            this.$emit(\"refreshUser\")\r\n          })\r\n\r\n\r\n        } else {\r\n          this.$message.error(\"保存失败\")\r\n        }\r\n      })\r\n    },\r\n\r\n\r\n  },\r\n  created() {\r\n  this.request.get(\"/user/username/\" + this.user.username).then(res => {\r\n    if(res.code === '200'){\r\n      this.form = res.data\r\n    }\r\n  })\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Person.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Person.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Person.vue?vue&type=template&id=b200a07a&scoped=true&\"\nimport script from \"./Person.vue?vue&type=script&lang=js&\"\nexport * from \"./Person.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b200a07a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7007b9e5"],{"55f7":function(e,s,r){},a55b:function(e,s,r){"use strict";r.r(s);var t=function(){var e=this,s=e._self._c;return s("div",{staticClass:"bigBox"},[s("div",{staticClass:"box"},[s("div",{ref:"preRef",staticClass:"pre-box"},[s("h1",[e._v("WELCOME")]),s("p",[e._v("JOIN US!")]),e._m(0)]),s("div",{staticClass:"register-form"},[e._m(1),s("el-form",{attrs:{rules:e.rules,model:e.user}},[s("el-form-item",{attrs:{prop:"username"}},[s("el-input",{attrs:{type:"text",placeholder:"用户名"},model:{value:e.user.username,callback:function(s){e.$set(e.user,"username",s)},expression:"user.username"}})],1),s("el-form-item",{attrs:{prop:"nickname"}},[s("el-input",{attrs:{type:"text",placeholder:"昵称"},model:{value:e.user.nickname,callback:function(s){e.$set(e.user,"nickname",s)},expression:"user.nickname"}})],1),s("el-form-item",{attrs:{prop:"password"}},[s("el-input",{attrs:{type:"password",placeholder:"密码"},model:{value:e.user.password,callback:function(s){e.$set(e.user,"password",s)},expression:"user.password"}})],1),s("el-form-item",{attrs:{prop:"confirmPassword"}},[s("el-input",{attrs:{type:"password",placeholder:"确认密码"},model:{value:e.user.confirmPassword,callback:function(s){e.$set(e.user,"confirmPassword",s)},expression:"user.confirmPassword"}})],1)],1),s("div",{staticClass:"btn-box"},[s("button",{on:{click:e.register}},[e._v("注册")]),s("p",{on:{click:function(s){return e.mySwitch()}}},[e._v("已有账号?去登录")])])],1),s("div",{staticClass:"login-form"},[e._m(2),s("el-form",{ref:"userForm",attrs:{model:e.user,rules:e.rules,"label-width":"5px"}},[s("el-form-item",{attrs:{prop:"username"}},[s("el-input",{attrs:{type:"text",placeholder:"用户名"},model:{value:e.user.username,callback:function(s){e.$set(e.user,"username",s)},expression:"user.username"}})],1),s("el-form-item",{attrs:{prop:"password"}},[s("el-input",{attrs:{type:"text","show-password":"",placeholder:"密码"},model:{value:e.user.password,callback:function(s){e.$set(e.user,"password",s)},expression:"user.password"}})],1)],1),s("div",{staticClass:"btn-box"},[s("button",{on:{click:e.login}},[e._v("登录")]),s("p",{on:{click:function(s){return e.mySwitch()}}},[e._v("没有账号?去注册")])])],1)])])},a=[function(){var e=this,s=e._self._c;return s("div",{staticClass:"img-box"},[s("img",{attrs:{src:r("ce72"),alt:"",id:"avatar"}})])},function(){var e=this,s=e._self._c;return s("div",{staticClass:"title-box"},[s("h1",[e._v("注册")])])},function(){var e=this,s=e._self._c;return s("div",{staticClass:"title-box"},[s("h1",[e._v("登录")])])}],o=r("2b0e");let i=Object(o["ref"])(!0);const u=()=>{const e=document.querySelector(".pre-box"),s=document.querySelector("#avatar");i.value?(e.style.transform="translateX(100%)",e.style.backgroundColor="#c9e0ed",s.src=r("e17a")):(e.style.transform="translateX(0%)",e.style.backgroundColor="#edd4dc",s.src=r("ce72")),i.value=!i.value};var n=u,l=r("a18c"),c={name:"Login",data(){return{imgList:[r("e17a"),r("ce72")],user:{},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:10,message:"长度应该在3~10个字符之间",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:5,message:"长度应该大于5",trigger:"blur"}],confirmPassword:[{required:!0,message:"请确保两次密码一致",trigger:"blur"},{min:5,message:"长度应该大于5",trigger:"blur"}]}}},methods:{mySwitch:n,login(){this.$refs["userForm"].validate(e=>{e&&this.request.post("/user/login",this.user).then(e=>{"200"===e.code?(localStorage.setItem("user",JSON.stringify(e.data)),localStorage.setItem("menus",JSON.stringify(e.data.menus)),Object(l["b"])(),this.$router.push("/"),this.$message.success("登陆成功")):this.$message.error(e.msg)})})},register(){this.$refs["userForm"].validate(e=>{if(e){if(this.user.password!==this.user.confirmPassword)return this.$message.error("两次密码不一致"),!1;this.request.post("/user/register",this.user).then(e=>{"200"===e.code?this.$message.success("注册成功"):this.$message.error(e.msg)})}})}}},m=c,p=(r("ef04"),r("2877")),d=Object(p["a"])(m,t,a,!1,null,"57afdd30",null);s["default"]=d.exports},ce72:function(e,s,r){e.exports=r.p+"img/waoku.45201bcf.jpg"},e17a:function(e,s,r){e.exports=r.p+"img/wuwu.ce473650.jpeg"},ef04:function(e,s,r){"use strict";r("55f7")}}]);
//# sourceMappingURL=chunk-7007b9e5.9eae0a38.js.map